@mixin processflowBase {
  @include tabsBase;
  list-style-type: none;
  .sbb-processflow-step {
    @include processflowStepBase;

    button {
      @include processflowButton;
    }
  }
}

@mixin processflowStepBase {
  float: left;
  display: flex;
  align-items: center;
  &-arrow {
    width: toPx(24);
    height: toPx(24);
    fill: $colorGrey;
    line-height: toPx(21);
    margin-bottom: auto;

    @include mq($from: mobilePortrait) {
      margin-left: toPx(12);
      margin-right: toPx(12);
    }

    @include mq($from: tabletPortrait) {
      margin-left: toPx(16);
      margin-right: toPx(16);
    }

    @include mq($from: desktop) {
      margin-left: toPx(24);
      margin-right: toPx(24);
    }

    @include mq($from: desktop4k) {
      margin-left: toPx(36);
      margin-right: toPx(36);
      width: toPx(36);
      height: toPx(36);
    }

    @include mq($from: desktop5k) {
      margin-left: toPx(48);
      margin-right: toPx(48);
      width: toPx(48);
      height: toPx(48);
    }
  }
  &::before {
    content: "";
  }
}

@mixin processflowButton {
  @include buttonResetFrameless();

  display: block;
  white-space: nowrap;
  font-family: $fontSbbLight;
  text-decoration: none;
  position: relative;

  @include mq($from: mobilePortrait) {
    font-size: toPx(21);
    line-height: toPx(21);
    padding-bottom: toPx(11);
  }

  @include mq($from: tabletPortrait) {
    font-size: toPx(21);
    line-height: toPx(21);
    padding-bottom: toPx(14);
  }

  @include mq($from: desktop) {
    font-size: toPx(21);
    line-height: toPx(21);
    padding-bottom: toPx(22);
  }

  @include mq($from: desktop4k) {
    font-size: toPx(32);
    padding-bottom: toPx(34);
    line-height: toPx(32);
  }

  @include mq($from: desktop5k) {
    font-size: toPx(42);
    padding-bottom: toPx(45);
    line-height: toPx(42);
  }

  &::after {
    content: "";
    display: block;
    position: absolute;
    bottom: 0;
    width: 0;
    left: 50%;
    height: 1px;
    border-bottom: 1px solid currentColor;
    transition: width 0.3s, left 0.3s;
  }

  &.sbb-active::after,
  &:not(.sbb-active):focus::after,
  &:not(.sbb-active):hover::after {
    left: 0;
    width: 100%;
  }

  &:not(.sbb-active):focus,
  &:not(.sbb-active):hover {
    color: $colorRed125;

    &::after {
      border-bottom-color: $colorRed125;
    }
  }

  &[disabled] {
    color: $colorBlack40;

    &:hover,
    &:focus {
      color: $colorBlack40;
      cursor: default;

      &::after {
        width: 0;
      }
    }
  }

  &.sbb-active:hover,
  &.sbb-active:focus {
    color: currentColor;
    cursor: default;

    &::after {
      border-bottom-color: currentColor;
    }
  }
}
