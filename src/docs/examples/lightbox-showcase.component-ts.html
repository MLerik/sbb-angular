<span class="hljs-keyword">import</span> { Component, ViewEncapsulation, Inject, ViewChild, TemplateRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { Lightbox, LightboxRef, LIGHTBOX_DATA } <span class="hljs-keyword">from</span> <span class="hljs-string">'sbb-angular'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> LightboxData {
  animal: <span class="hljs-built_in">string</span>;
  name: <span class="hljs-built_in">string</span>;
}

<span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'sbb-lightbox-showcase-example-content'</span>,
  templateUrl: <span class="hljs-string">'example-sharing-data-lightbox-content.html'</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> LightboxShowcaseExampleContentComponent {

  <span class="hljs-keyword">constructor</span>(<span class="hljs-params">
    <span class="hljs-keyword">public</span> lightboxRef: LightboxRef&lt;LightboxShowcaseExampleContentComponent&gt;,
    <span class="hljs-meta">@Inject</span>(LIGHTBOX_DATA) <span class="hljs-keyword">public</span> data: LightboxData</span>) {}

  onNoClick(): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">this</span>.lightboxRef.close();
  }

}

<span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'sbb-lightbox-showcase-example'</span>,
  template: <span class="hljs-string">`
  &lt;ol&gt;
    &lt;li&gt;
      &lt;input [(ngModel)]="name" placeholder="What's your name?"&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;button sbbButton mode="secondary" (click)="openLightbox()"&gt;Pick one&lt;/button&gt;
    &lt;/li&gt;
    &lt;li *ngIf="animal"&gt;
      You chose: &lt;i&gt;{{animal}}&lt;/i&gt;
    &lt;/li&gt;
  &lt;/ol&gt;`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> LightboxShowcaseExampleComponent {

  animal: <span class="hljs-built_in">string</span>;
  name: <span class="hljs-built_in">string</span>;

  <span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> lightbox: Lightbox</span>) { }

  openLightbox(): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">const</span> lightboxRef = <span class="hljs-keyword">this</span>.lightbox.open(LightboxShowcaseExampleContentComponent, {
      data: { name: <span class="hljs-keyword">this</span>.name, animal: <span class="hljs-keyword">this</span>.animal }
    });

    lightboxRef.afterClosed().subscribe(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The lightbox was closed'</span>);
      <span class="hljs-keyword">this</span>.animal = result;
    });
  }

}

<span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'sbb-lightbox-showcase-example-2-content'</span>,
  templateUrl: <span class="hljs-string">'example-from-component-lightbox-content.html'</span>,
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> LightboxShowcaseExample2ContentComponent {
  alignment = <span class="hljs-string">'center'</span>;
}

<span class="hljs-comment">/**
 * @title Dialog with header, scrollable content and actions
 */</span>
<span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'sbb-lightbox-showcase-example-2'</span>,
  template: <span class="hljs-string">`
    &lt;div class="sbbsc-block"&gt;
      &lt;button sbbButton mode="secondary" (click)="openDialog()"&gt;Open Lightbox from Component&lt;/button&gt;
    &lt;/div&gt;`</span>,
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> LightboxShowcaseExample2Component {

  <span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> lightbox: Lightbox</span>) { }

  openDialog() {
    <span class="hljs-keyword">const</span> lightboxRef = <span class="hljs-keyword">this</span>.lightbox.open(LightboxShowcaseExample2ContentComponent);

    lightboxRef.afterClosed().subscribe(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Dialog result: <span class="hljs-subst">${result}</span>`</span>);
    });
  }
}

<span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'sbb-lightbox-showcase-example-3'</span>,
  templateUrl: <span class="hljs-string">'example-from-template-lightbox-content.html'</span>,
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> LightboxShowcaseExample3Component {
  <span class="hljs-meta">@ViewChild</span>(<span class="hljs-string">'sampleLightboxTemplate'</span>) sampleLightboxTemplate: TemplateRef&lt;<span class="hljs-built_in">any</span>&gt;;
  <span class="hljs-keyword">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> lightbox: Lightbox</span>) { }

  openDialog() {
    <span class="hljs-keyword">const</span> lightboxRef = <span class="hljs-keyword">this</span>.lightbox.open(<span class="hljs-keyword">this</span>.sampleLightboxTemplate);

    lightboxRef.afterClosed().subscribe(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Dialog result: <span class="hljs-subst">${result}</span>`</span>);
    });
  }
}

<span class="hljs-meta">@Component</span>({
  selector: <span class="hljs-string">'sbb-lightbox-showcase'</span>,
  templateUrl: <span class="hljs-string">'lightbox-showcase.component.html'</span>,
  styleUrls: [<span class="hljs-string">'lightbox-showcase.component.scss'</span>],
  encapsulation: ViewEncapsulation.None
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> LightboxShowcaseComponent {
}
