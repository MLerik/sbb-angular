<span class="hljs-comment">// import { ChangeDetectionStrategy, DebugElement } from '@angular/core';</span>
<span class="hljs-comment">// import { async, ComponentFixture, TestBed } from '@angular/core/testing';</span>
<span class="hljs-comment">// import { By } from '@angular/platform-browser';</span>
<span class="hljs-comment">// import { TabsShowcaseComponent } from './tabs-showcase.component';</span>
<span class="hljs-comment">// import { PersonListComponent } from './person/person-list/person-list.component';</span>
<span class="hljs-comment">// import { FormsModule, ReactiveFormsModule } from '@angular/forms';</span>
<span class="hljs-comment">// import { TabsModule, FieldModule } from 'sbb-angular';</span>

<span class="hljs-comment">// describe('TabsShowcaseComponent', () =&gt; {</span>

<span class="hljs-comment">//   let component: TabsShowcaseComponent;</span>
<span class="hljs-comment">//   let fixture: ComponentFixture&lt;TabsShowcaseComponent&gt;;</span>
<span class="hljs-comment">//   let debugElement: DebugElement;</span>

<span class="hljs-comment">//   beforeEach(async(() =&gt; {</span>
<span class="hljs-comment">//     TestBed.configureTestingModule({</span>
<span class="hljs-comment">//       imports: [FormsModule,</span>
<span class="hljs-comment">//                 ReactiveFormsModule,</span>
<span class="hljs-comment">//                 TabsModule,</span>
<span class="hljs-comment">//                 FieldModule],</span>
<span class="hljs-comment">//       declarations: [TabsShowcaseComponent, PersonListComponent]</span>
<span class="hljs-comment">//     })</span>
<span class="hljs-comment">//     .overrideComponent(TabsShowcaseComponent, {</span>
<span class="hljs-comment">//       set: { changeDetection: ChangeDetectionStrategy.Default }</span>
<span class="hljs-comment">//     })</span>
<span class="hljs-comment">//     .compileComponents();</span>
<span class="hljs-comment">//   }));</span>

<span class="hljs-comment">//   beforeEach(() =&gt; {</span>
<span class="hljs-comment">//     fixture = TestBed.createComponent(TabsShowcaseComponent);</span>
<span class="hljs-comment">//     component = fixture.componentInstance;</span>
<span class="hljs-comment">//     debugElement = fixture.debugElement;</span>
<span class="hljs-comment">//   });</span>

<span class="hljs-comment">//   it('should create', () =&gt; {</span>
<span class="hljs-comment">//     expect(component).toBeTruthy();</span>
<span class="hljs-comment">//   });</span>

<span class="hljs-comment">//   it('tab module should have 3 tabs inside, at least 2', () =&gt; {</span>
<span class="hljs-comment">//      // first round of change detection ...</span>
<span class="hljs-comment">//      fixture.detectChanges();</span>
<span class="hljs-comment">//      expect(component.tabsComponent.tabs.length).toBe(3);</span>
<span class="hljs-comment">//   });</span>

<span class="hljs-comment">//   it('tab module should have no more tab modules inside', () =&gt; {</span>
<span class="hljs-comment">//     // first round of change detection ...</span>
<span class="hljs-comment">//     fixture.detectChanges();</span>
<span class="hljs-comment">//     expect(component.tabsComponent.tabModules.length).toBe(1);</span>
<span class="hljs-comment">//   });</span>

<span class="hljs-comment">//   it('tab 1 should have label "Tab 1", tab id "1" and also should be "active" per default', () =&gt; {</span>
<span class="hljs-comment">//      // first round of change detection ...</span>
<span class="hljs-comment">//      fixture.detectChanges();</span>
<span class="hljs-comment">//      expect(component.tabsComponent.tabs.first.label).toBe('Tab 1');</span>
<span class="hljs-comment">//      expect(component.tabsComponent.tabs.first.id).toBe('content1-tab');</span>
<span class="hljs-comment">//      expect(component.tabsComponent.tabs.first.active).toBe(true);</span>
<span class="hljs-comment">//   });</span>

<span class="hljs-comment">//   it('tab 3 should have label "Persons", tab id "3" and should not be "active" per default', () =&gt; {</span>
<span class="hljs-comment">//     // first round of change detection ...</span>
<span class="hljs-comment">//     fixture.detectChanges();</span>
<span class="hljs-comment">//     expect(component.tabsComponent.tabs.last.label).toBe('Persons');</span>
<span class="hljs-comment">//     expect(component.tabsComponent.tabs.last.id).toBe('persons-tab');</span>
<span class="hljs-comment">//     expect(component.tabsComponent.tabs.last.active).toBe(false);</span>
<span class="hljs-comment">//   });</span>

<span class="hljs-comment">//   it('person tab should have 1 tag pill / quantity indicator with the value 1', () =&gt; {</span>
<span class="hljs-comment">//     // first round of change detection ...</span>
<span class="hljs-comment">//     fixture.detectChanges();</span>
<span class="hljs-comment">//     // switch over to our dynamic tab ...</span>
<span class="hljs-comment">//     component.tabsComponent.selectTab(component.tabsComponent.tabs.last);</span>
<span class="hljs-comment">//     expect(component.tabsComponent.tabs.last.active).toBe(true);</span>
<span class="hljs-comment">//     // get add new person button ...</span>
<span class="hljs-comment">//     const tabBadgePill = debugElement.query(By.css('sbb-tab-badge-pill')).nativeElement;</span>
<span class="hljs-comment">//     expect(tabBadgePill).toBeTruthy();</span>
<span class="hljs-comment">//     expect(tabBadgePill.textContent).toBe('1');</span>
<span class="hljs-comment">//  });</span>

<span class="hljs-comment">// });</span>
